<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<title>Blitz Logistics Portal</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>

body {

    margin: 0;
    height: 100vh;
    font-family: "Poppins", sans-serif;

    background: linear-gradient(
        135deg,
        #a8edea,
        #fed6e3
    );

    display: flex;
    justify-content: center;
    align-items: center;

}


/* floating card */

.card {

    background: white;

    padding: 40px;

    width: 380px;

    border-radius: 16px;

    box-shadow:
        0 20px 40px rgba(0,0,0,0.15);

    animation: float 4s ease-in-out infinite;

}

@keyframes float {

    0%,100% { transform: translateY(0px); }

    50% { transform: translateY(-8px); }

}


.title {

    text-align: center;

    font-size: 26px;

    font-weight: 600;

    margin-bottom: 5px;

}

.subtitle {

    text-align: center;

    color: gray;

    margin-bottom: 30px;

}


/* inputs */

input {

    width: 100%;

    padding: 14px;

    margin: 10px 0;

    border-radius: 10px;

    border: 2px solid #eee;

    font-size: 15px;

    transition: 0.3s;

}

input:focus {

    border-color: #6c63ff;

    outline: none;

    box-shadow: 0 0 0 4px rgba(108,99,255,0.15);

}


/* button */

button {

    width: 100%;

    padding: 14px;

    border-radius: 10px;

    border: none;

    background: linear-gradient(
        90deg,
        #6c63ff,
        #5edfff
    );

    color: white;

    font-size: 16px;

    font-weight: 600;

    cursor: pointer;

    margin-top: 15px;

    transition: 0.3s;

}

button:hover {

    transform: scale(1.03);

    box-shadow:
        0 10px 20px rgba(0,0,0,0.2);

}

button:active {

    transform: scale(0.97);

}


/* message */

.msg {

    text-align: center;

    margin-top: 15px;

    font-size: 14px;

}


/* playful emoji */

.logo {

    text-align: center;

    font-size: 40px;

    margin-bottom: 10px;

}

</style>

</head>

<body>

<div class="card">

<div class="logo">ðŸ“¦</div>

<div class="title">
Blitz Logistics
</div>

<div class="subtitle">
Invoice Access Portal
</div>


<input id="username" placeholder="Username">

<input id="password" type="password" placeholder="Password">


<button onclick="login()">
Login
</button>


<div class="msg" id="msg">
</div>

</div>


<script>

const API = "https://idor-ti4j.onrender.com/api";

async function login() {

    const msg =
        document.getElementById("msg");

    msg.innerText = "Logging in...";

    const username =
        document.getElementById("username").value;

    const password =
        document.getElementById("password").value;


    try {

        const res = await fetch(API + "/login", {

            method: "POST",

            headers: {
                "Content-Type": "application/json"
            },

            body: JSON.stringify({
                username,
                password
            })

        });

        const data = await res.json();


        if (data.token) {

            localStorage.setItem(
                "token",
                data.token
            );

            msg.innerText = "Success! Redirecting...";

            setTimeout(() => {

                window.location =
                    "invoice.html?id=1001";

            }, 800);

        }
        else {

            msg.innerText =
                "Invalid credentials ðŸ˜¢";

        }

    }
    catch {

        msg.innerText =
            "Server error";

    }

}

</script>

</body>
</html>
